<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <title>Register - SeatAlgo</title>

    <!-- Firebase App (v8) -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <!-- Lottie Animation Library -->
    


    <script>
      var firebaseConfig = {
        apiKey: "AIzaSyAuLVFjh5JyhJNYXaHS0RT-Ewah0iONBKE",
        authDomain: "seatalgo-14ad1.firebaseapp.com",
        projectId: "seatalgo-14ad1",
        storageBucket: "seatalgo-14ad1.firebasestorage.app",  <!-- corrected your small typo in storage bucket -->
        messagingSenderId: "709506219442",
        appId: "1:709506219442:web:38eaed9525da19e03d78ab"
      };
      firebase.initializeApp(firebaseConfig);
    </script>

    <style>
      body {
        background: linear-gradient(to right, #00c6ff, #0072ff);
        font-family: 'Poppins', sans-serif;
        margin: 0;
        padding: 0;
      }
      .container {
        width: 400px;
        margin: 80px auto;
        padding: 30px;
        background: white;
        border-radius: 12px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        text-align: center;
      }
      input, button {
        width: 90%;
        margin: 10px 0;
        padding: 12px;
        border-radius: 8px;
        border: 1px solid #ccc;
        font-size: 16px;
      }
      button {
        background-color: #007bff;
        color: white;
        border: none;
        cursor: pointer;
      }
      button:hover {
        background-color: #0056b3;
      }
      .link {
        margin-top: 15px;
      }
      h2 {
        margin-bottom: 20px;
      }
    </style>
</head>

<body>

<div class="container">
  <h2>Create your SeatAlgo Account</h2>

  <form id="register-form">
    <input type="text" id="fullname" placeholder="Full Name" required><br>
    <input type="email" id="email" placeholder="Email" required><br>
    <input type="password" id="password" placeholder="Password" required><br>
    <input type="password" id="confirm-password" placeholder="Confirm Password" required><br>
    <button type="submit">Register</button>
  </form>

  <div id="register-message" style="margin-top:10px; color:green;"></div>


  <div class="link">
    <p>Already have an account? <a href="/login">Login here</a></p>
  </div>
</div>

<script>
    const registerForm = document.getElementById('register-form');

    registerForm.addEventListener('submit', function(event) {
        event.preventDefault();

        const fullname = document.getElementById('fullname').value;
        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;
        const confirmPassword = document.getElementById('confirm-password').value;

        if (password !== confirmPassword) {
            document.getElementById('register-message').innerText = "Passwords do not match!";
            return;
        }

        firebase.auth().createUserWithEmailAndPassword(email, password)
          .then((userCredential) => {
            var user = userCredential.user;
            console.log("Registered user:", user);
        
            document.getElementById('register-message').innerText = "Registration Successful! Redirecting to login...";
            
            setTimeout(function() {
              window.location.href = "/login";
            }, 2000);
          })
          .catch((error) => {
            console.error(error);
            document.getElementById('register-message').innerText = error.message;
          });
    });
</script>

</body>
</html>
